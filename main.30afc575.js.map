{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","rootElement","document","querySelector","getPhonesId","fetch","then","response","json","phones","map","phone","id","getFirstReceivedDetails","data","requests","Promise","race","getAllSuccessfulDetails","all","responses","val","printFirstList","phoneDetails","divFirst","createElement","className","insertAdjacentHTML","append","allListPrint","divAll","name","join","catch","error","alert"],"mappings":";AAAA,aA6EA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EA1EA,IAAMA,EACF,mEACEC,EAAcC,SAASC,cAAc,QAE3C,SAASC,IACAC,OAAAA,MAASL,GAAAA,OAAAA,EAAT,UACJM,KAAK,SAAAC,GAAYA,OAAAA,EAASC,SAC1BF,KAAK,SAAAG,GAAU,OAAA,EAAIA,GAAQC,IAAI,SAAAC,GAASA,OAAAA,EAAMC,OAGnD,SAASC,EAAwBC,GACzBC,IAAAA,EAAWD,EAAKJ,IAAI,SAAAE,GAAMP,OAAAA,MAASL,GAAAA,OAAAA,EAAYY,KAAAA,OAAAA,EAAzB,YAErBI,OAAAA,QAAQC,KAAKF,GACjBT,KAAK,SAAAC,GAAYA,OAAAA,EAASC,SAG/B,SAASU,EAAwBJ,GACzBC,IAAAA,EAAWD,EAAKJ,IAAI,SAAAE,GAAMP,OAAAA,MAASL,GAAAA,OAAAA,EAAYY,KAAAA,OAAAA,EAAzB,YAErBI,OAAAA,QAAQG,IAAIJ,GAChBT,KAAK,SAAAc,GAAaJ,OAAAA,QAAQG,IAAIC,EAAUV,IAAI,SAAAW,GAAOA,OAAAA,EAAIb,YAG5D,SAASc,EAAeC,GAChBC,IAAAA,EAAWtB,SAASuB,cAAc,OAejCF,OAbPC,EAASE,UAAY,iBAErBF,EAASG,mBAAmB,aAIpBJ,gEAAAA,OAAAA,EAAaX,GAJrB,iCASAX,EAAY2B,OAAOJ,GAEZD,EAGT,SAASM,EAAaN,GACdO,IAAAA,EAAS5B,SAASuB,cAAc,OAoB/BF,OAlBPO,EAAOJ,UAAY,iBAEnBI,EAAOH,mBAAmB,aAGpBJ,kDAAAA,OAAAA,EAAab,IAAI,SAAAC,GAEPA,MAAAA,mCAAAA,OAAAA,EAAMoB,KAERpB,qCAAAA,OAAAA,EAAMC,GAJQ,yDAOrBoB,KAAK,IAVZ,oBAcA/B,EAAY2B,OAAOE,GAEZP,EAGTnB,IACGE,KAAKO,GACLP,KAAKgB,GACLW,MAAM,SAAAC,GACLC,MAAM,QAASD,KAGnB9B,IACGE,KAAKY,GACLZ,KAAKuB","file":"main.30afc575.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// write code here\nconst BASE_URL\n  = 'https://mate-academy.github.io/phone-catalogue-static/api/phones';\nconst rootElement = document.querySelector('body');\n\nfunction getPhonesId() {\n  return fetch(`${BASE_URL}.json`)\n    .then(response => response.json())\n    .then(phones => [...phones].map(phone => phone.id));\n}\n\nfunction getFirstReceivedDetails(data) {\n  const requests = data.map(id => fetch(`${BASE_URL}/${id}.json`));\n\n  return Promise.race(requests)\n    .then(response => response.json());\n}\n\nfunction getAllSuccessfulDetails(data) {\n  const requests = data.map(id => fetch(`${BASE_URL}/${id}.json`));\n\n  return Promise.all(requests)\n    .then(responses => Promise.all(responses.map(val => val.json())));\n}\n\nfunction printFirstList(phoneDetails) {\n  const divFirst = document.createElement('div');\n\n  divFirst.className = 'first-received';\n\n  divFirst.insertAdjacentHTML('afterbegin', `\n    <h3>First Received</h3>\n    <ul>\n      <li>\n        ${phoneDetails.id}\n      </li>\n    </ul>\n  `);\n\n  rootElement.append(divFirst);\n\n  return phoneDetails;\n}\n\nfunction allListPrint(phoneDetails) {\n  const divAll = document.createElement('div');\n\n  divAll.className = 'all-successful';\n\n  divAll.insertAdjacentHTML('afterbegin', `\n    <h3>First Received</h3>\n    <ul>\n      ${phoneDetails.map(phone => `\n        <li>\n          Name: ${phone.name}\n          </br>\n          ID: ${phone.id}\n        </li>\n        <span>_____</span>\n      `).join('')}\n    </ul>\n  `);\n\n  rootElement.append(divAll);\n\n  return phoneDetails;\n}\n\ngetPhonesId()\n  .then(getFirstReceivedDetails)\n  .then(printFirstList)\n  .catch(error => {\n    alert('Error', error);\n  });\n\ngetPhonesId()\n  .then(getAllSuccessfulDetails)\n  .then(allListPrint);\n"]}